$( document ).ready( function() {

	//Collect All Img And Blockquote Node Elements From Content Section
	var articleImgs = document.getElementById('article-content').getElementsByTagName('img');
	var articleImgsArray = Array.prototype.slice.call(articleImgs, 0);
	var articleQuotes = document.getElementById('article-content').getElementsByTagName('blockquote');
	var articleQuotesArray = Array.prototype.slice.call(articleQuotes, 0);
	galleryNodeList = articleImgsArray.concat(articleQuotesArray);

	// Not Necessary But Interesting
	console.log(galleryNodeList);

	// Clone Collected Node Elements From Content Section And Place In Gallery Section
	cloneNodeListToGallery = function(){
		var nodeListLength = galleryNodeList.length;
		var clonedNode = null
		var articleGalleryCell = document.getElementById( 'article-gallery-cell' );

		for (i = 0; i < nodeListLength; i++) {
			clonedNode = galleryNodeList[i].cloneNode( true );
			articleGalleryCell.appendChild( clonedNode );
		}
	}
	cloneNodeListToGallery();

	// Hides All Image And Blockquote Elements In Selected Area
	hideImgQuoteElements = function(selector) {
		$( selector + " img" ).css( "display", "none" );
		$( selector + " blockquote" ).css( "display", "none" );	
	}
	hideImgQuoteElements( "#article-content" );

	// Under Construction
	var documentHeight = $( document ).height();
	var windowHeight = $( window ).height();
	var scrollAreaHeight = ( documentHeight - windowHeight );
	var gallerySectionHeight = ( scrollAreaHeight / galleryNodeList.length );
	hideImgQuoteElements( "#article-gallery-cell" );

	var galleryIndex = 0;
	gallerySwap = function() {
		var scroll = $(document).scrollTop();
		var sectionSelector = ( scroll / gallerySectionHeight );
		var secSelectorRounded = Math.ceil(sectionSelector);
		if ( secSelectorRounded < 1 ) {
			secSelectorRounded = 1;
		} else if ( secSelectorRounded > galleryNodeList.length ) {
			secSelectorRounded = galleryNodeList.length;
		}

		if ( secSelectorRounded != galleryIndex ) {
			$( "#article-gallery-cell" ).animate({
			    opacity: 0
			  }, 300, function() {
			    hideImgQuoteElements( "#article-gallery-cell" );
				$( "#article-gallery-cell blockquote:nth-child(" + secSelectorRounded + ")" ).css( "display", "block" );
				$( "#article-gallery-cell img:nth-child(" + secSelectorRounded + ")" ).css( "display", "block" );
			  });
			

			$( "#article-gallery-cell" ).animate({
			    opacity: 1
			  }, 300, function() {
			    // Animation complete.
			  });

			galleryIndex = secSelectorRounded;
			return galleryIndex;
		}

	}

	gallerySwap();

	$( document ).scroll(function() {
		gallerySwap();
	});
	

});
	